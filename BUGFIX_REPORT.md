# üêõ –û—Ç—á–µ—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏: –ü—Ä–æ–±–ª–µ–º–∞ —Å –ø–æ–∏—Å–∫–æ–º —Ñ–∞–π–ª–æ–≤ –≤ Mega

## –ü—Ä–æ–±–ª–µ–º–∞
–ü—Ä–æ–≥—Ä–∞–º–º–∞ –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç PDF —Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫–µ Mega, —Ö–æ—Ç—è —Ñ–∞–π–ª—ã —Ç–∞–º —Ñ–∏–∑–∏—á–µ—Å–∫–∏ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç.

## –ù–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. **–ü—Ä–æ–±–ª–µ–º–∞ —Å –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–µ–π –ø—É—Ç–µ–π** (–ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø)
**–§–∞–π–ª:** `src/mega_client.py`, –º–µ—Ç–æ–¥ `list_pdf_files()`, —Å—Ç—Ä–æ–∫–∞ 141

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ —Å—Ä–∞–≤–Ω–∏–≤–∞–ª –ø—É—Ç–∏ —Å —É—á–µ—Ç–æ–º —Ä–µ–≥–∏—Å—Ç—Ä–∞:
```python
if not file_path.startswith(folder_path.rstrip('/')):
    continue
```

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ï—Å–ª–∏ –ø—É—Ç—å –≤ Mega –±—ã–ª `/PDF/Input`, –∞ –∫–æ–Ω—Ñ–∏–≥ —Å–æ–¥–µ—Ä–∂–∞–ª `/pdf/input`, —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –Ω–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–ª–æ
- Mega API –º–æ–∂–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –ø—É—Ç–∏ —Å —Ä–∞–∑–Ω—ã–º —Ä–µ–≥–∏—Å—Ç—Ä–æ–º
- –≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏–ª–æ –∫ —Ç–æ–º—É, —á—Ç–æ —Ñ–∞–π–ª—ã –ø—Ä–æ–ø—É—Å–∫–∞–ª–∏—Å—å

**–†–µ—à–µ–Ω–∏–µ:**
–ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–±–∞ –ø—É—Ç–∏ –ø–µ—Ä–µ–¥ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ–º:
```python
normalized_folder = folder_path.rstrip('/').lower()
normalized_file_path = file_path.rstrip('/').lower()

is_in_folder = (normalized_file_path.startswith(normalized_folder + '/') or 
               normalized_file_path == normalized_folder)
```

### 2. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ø–∞–ø–æ–∫**
**–§–∞–π–ª:** `src/mega_client.py`, –º–µ—Ç–æ–¥ `list_pdf_files()`, —Å—Ç—Ä–æ–∫–∞ 141

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥:
```python
if not file_path.startswith(folder_path.rstrip('/')):
    continue
```

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ï—Å–ª–∏ –∏—Å–∫–∞–ª–∏ —Ñ–∞–π–ª—ã –≤ `/PDF/Input`, –∞ —Ñ–∞–π–ª –±—ã–ª –≤ `/PDF/InputBackup`, –æ–Ω –±—ã –±—ã–ª –Ω–∞–π–¥–µ–Ω
- –ù—É–∂–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –ø—É—Ç–∏

**–†–µ—à–µ–Ω–∏–µ:**
–ü—Ä–æ–≤–µ—Ä—è—Ç—å –ª–∏–±–æ —Ç–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ, –ª–∏–±–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–º:
```python
is_in_folder = (normalized_file_path.startswith(normalized_folder + '/') or 
               normalized_file_path == normalized_folder)
```

### 3. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ—Ç–ª–∞–¥–æ—á–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞**
**–§–∞–π–ª:** `src/mega_client.py`, –º–µ—Ç–æ–¥ `list_pdf_files()`

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–ë—ã–ª–æ —Å–ª–æ–∂–Ω–æ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—É –∏–∑-–∑–∞ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–≥–æ –æ—Ç–ª–∞–¥–æ—á–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞.

**–†–µ—à–µ–Ω–∏–µ:**
–î–æ–±–∞–≤–ª–µ–Ω—ã –æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è:
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ Mega
- –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø—É—Ç—å –ø–æ–∏—Å–∫–∞
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞–∂–¥–æ–º –Ω–∞–π–¥–µ–Ω–Ω–æ–º PDF —Ñ–∞–π–ª–µ

## –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –∫–æ–¥

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `src/mega_client.py`:

1. **–ò–º–ø–æ—Ä—Ç—ã** (—Å—Ç—Ä–æ–∫–∞ 6-11):
   - –£–¥–∞–ª–µ–Ω –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∏–º–ø–æ—Ä—Ç `os`
   - –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç `tempfile` (–±—ã–ª –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω, –Ω–æ –Ω–µ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω)
   - –£–¥–∞–ª–µ–Ω –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∏–º–ø–æ—Ä—Ç `Optional`

2. **–ú–µ—Ç–æ–¥ `list_pdf_files()`** (—Å—Ç—Ä–æ–∫–∞ 111-203):
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –ø—É—Ç–µ–π (`.lower()`)
   - –£–ª—É—á—à–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç–∏ —Ñ–∞–π–ª–∞ –∫ –ø–∞–ø–∫–µ
   - –î–æ–±–∞–≤–ª–µ–Ω—ã –æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ñ–∞–π–ª–∞ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∞ —Ä–∞–Ω—å—à–µ (–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è)

## –ö–∞–∫ —ç—Ç–æ –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–æ–±–ª–µ–º—É

**–°—Ü–µ–Ω–∞—Ä–∏–π:**
1. –ö–æ–Ω—Ñ–∏–≥ —Å–æ–¥–µ—Ä–∂–∏—Ç: `input: "/PDF/Input"`
2. –í Mega –µ—Å—Ç—å —Ñ–∞–π–ª: `/PDF/Input/document.pdf`
3. Mega API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Ç—å: `/PDF/Input/document.pdf` (–º–æ–∂–µ—Ç –±—ã—Ç—å —Å —Ä–∞–∑–Ω—ã–º —Ä–µ–≥–∏—Å—Ç—Ä–æ–º)

**–ë—ã–ª–æ:**
```
"/PDF/Input/document.pdf".startswith("/PDF/Input") ‚Üí True ‚úÖ
"/PDF/Input/document.pdf".startswith("/PDF/InputBackup") ‚Üí True ‚ùå (–û–®–ò–ë–ö–ê!)
"/pdf/input/document.pdf".startswith("/PDF/Input") ‚Üí False ‚ùå (–û–®–ò–ë–ö–ê!)
```

**–°—Ç–∞–ª–æ:**
```
"/pdf/input/document.pdf".startswith("/pdf/input" + "/") ‚Üí True ‚úÖ
"/pdf/input/document.pdf" == "/pdf/input" ‚Üí False ‚úÖ
"/pdf/inputbackup/document.pdf".startswith("/pdf/input" + "/") ‚Üí False ‚úÖ
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É —Å DEBUG –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
python src/main.py --log-level DEBUG

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Ç–ª–∞–¥–æ—á–Ω—ã–π —Å–∫—Ä–∏–ø—Ç
python test_mega_connection.py
```

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
- ‚úÖ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ Mega
- ‚úÖ –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø—É—Ç—å –ø–æ–∏—Å–∫–∞
- ‚úÖ –ù–∞–π–¥–µ–Ω–Ω—ã–µ PDF —Ñ–∞–π–ª—ã —Å –∏—Ö —Ä–∞–∑–º–µ—Ä–∞–º–∏

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ –ø—É—Ç–∏** –≤ –∫–æ–Ω—Ñ–∏–≥–µ (–Ω–∞—á–∏–Ω–∞–π—Ç–µ —Å `/`)
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫** –≤ Mega:
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–∞–ø–∫–∞ `/PDF/Input` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ –Ω–µ–π –µ—Å—Ç—å PDF —Ñ–∞–π–ª—ã
3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ DEBUG –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –ø—Ä–∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–µ –ø—Ä–æ–±–ª–µ–º:
   ```bash
   python src/main.py --log-level DEBUG --log-file debug.log
   ```

## –§–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –∏–∑–º–µ–Ω–µ–Ω—ã

- ‚úÖ `src/mega_client.py` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø–æ–∏—Å–∫–∞ —Ñ–∞–π–ª–æ–≤

## –°—Ç–∞—Ç—É—Å

‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û**

–ü—Ä–æ–≥—Ä–∞–º–º–∞ —Ç–µ–ø–µ—Ä—å –¥–æ–ª–∂–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –Ω–∞—Ö–æ–¥–∏—Ç—å PDF —Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫–µ Mega –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞ –ø—É—Ç–∏.

